<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cryptocurrency Wallet</title>
</head>
<body>
    <h1>Multicurrency HD Wallet</h1>
    
    <h2>Create Account</h2>
    <form id="createAccountForm">
        <label for="currency">Currency:</label>
        <select id="currency" name="currency">
            <option value="BTC">Bitcoin</option>
            <option value="ETH">Ethereum</option>
        </select><br>
        <button type="submit">Create Account</button>
    </form>

    <h2>Restore Account</h2>
    <form id="restoreAccountForm">
        <label for="currencyRestore">Currency:</label>
        <select id="currencyRestore" name="currencyRestore">
            <option value="BTC">Bitcoin</option>
            <option value="ETH">Ethereum</option>
        </select><br>
        <label for="mnemonic">Mnemonic Phrase:</label>
        <input type="text" id="mnemonic" name="mnemonic"><br>
        <button type="submit">Restore Account</button>
    </form>

    <h2>Check Balance</h2>
    <form id="checkBalanceForm">
        <label for="currencyCheck">Currency:</label>
        <select id="currencyCheck" name="currencyCheck">
            <option value="BTC">Bitcoin</option>
            <option value="ETH">Ethereum</option>
        </select><br>
        <label for="address">Address:</label>
        <input type="text" id="address" name="address"><br>
        <button type="submit">Check Balance</button>
    </form>

    <h2>Send Transaction</h2>
    <form id="sendTransactionForm">
        <label for="currencySend">Currency:</label>
        <select id="currencySend" name="currencySend">
            <option value="BTC">Bitcoin</option>
            <option value="ETH">Ethereum</option>
        </select><br>
        <label for="senderPrivateKey">Sender Private Key:</label>
        <input type="text" id="senderPrivateKey" name="senderPrivateKey"><br>
        <label for="recipient">Recipient Address:</label>
        <input type="text" id="recipient" name="recipient"><br>
        <label for="amount">Amount:</label>
        <input type="text" id="amount" name="amount"><br>
        <button type="submit">Send Transaction</button>
    </form>


    <!--  bitcoinjs-lib library -->
    <!--  <script src="https://cdnjs.cloudflare.com/ajax/libs/bitcoinjs-lib/0.2.0-1/bitcoinjs-min.js"></script>  -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ccxt/4.2.92/ccxt.browser.min.js"></script>
    
    <!--  ethers.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.11.1/ethers.umd.min.js"></script>
    <!--  axios library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.24.0/axios.min.js"></script>
    <!--  bip39 library -->
    <!--  wallet.js -->
    <script src="wallet.js"></script>

    <!--<script src="dist/bundle.js"></script> -->


    <script>
        // Create Account Form Submission
        document.getElementById("createAccountForm").addEventListener("submit", async function(event) {
            event.preventDefault();
            const currency = document.getElementById("currency").value;
            try {
                const account = await createAccount(currency);
                alert(`Account created successfully!\nAddress: ${account.address}\nPrivate Key: ${account.privateKey}\nMnemonic: ${account.mnemonic}`);
            } catch (error) {
                alert(error.message);
            }
        });

        // Restore Account Form Submission
        document.getElementById("restoreAccountForm").addEventListener("submit", async function(event) {
            event.preventDefault();
            const currency = document.getElementById("currencyRestore").value;
            const mnemonic = document.getElementById("mnemonic").value;
            try {
                const account = await restoreAccount(currency, mnemonic);
                alert(`Account restored successfully!\nAddress: ${account.address}`);
            } catch (error) {
                alert(error.message);
            }
        });

        // Check Balance Form Submission
        document.getElementById("checkBalanceForm").addEventListener("submit", async function(event) {
            event.preventDefault();
            const currency = document.getElementById("currencyCheck").value;
            const address = document.getElementById("address").value;
            try {
                const balance = await checkBalance(currency, address);
                alert(`Balance: ${balance}`);
            } catch (error) {
                alert(error.message);
            }
        });

        // Send Transaction Form Submission
        document.getElementById("sendTransactionForm").addEventListener("submit", async function(event) {
            event.preventDefault();
            const currency = document.getElementById("currencySend").value;
            const senderPrivateKey = document.getElementById("senderPrivateKey").value;
            const recipient = document.getElementById("recipient").value;
            const amount = document.getElementById("amount").value;
            try {
                const txHash = await sendTransaction(currency, senderPrivateKey, recipient, amount);
                alert(`Transaction sent successfully!\nTransaction Hash: ${txHash}`);
            } catch (error) {
                alert(error.message);
            }
        });
    </script>
</body>
</html>
